<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>TradeScope Pro â€” India Markets Terminal</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.1/chartjs-plugin-zoom.min.js"></script>
<link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- PARTICLES -->
<div id="particles"></div>

<!-- POPUP -->
<div id="pop" style="display:none">
  <div class="pbox">
    <div class="pic">ğŸŒ™</div>
    <div class="pt">NSE MARKET CLOSED</div>
    <div class="ps">Indian equity markets are currently closed.<br><strong>NSE: Monâ€“Fri, 9:15 AM â€“ 3:30 PM IST</strong><br><br>
      Switch to <strong>Forex & Global</strong> for 24/7 live international instruments.</div>
    <button class="pcta" onclick="closePop()">Go to Dashboard â†’</button>
    <div class="pa">Auto-close in <span id="pcd">8</span>s</div>
  </div>
</div>

<!-- TICKER -->
<div id="ticker"><div class="tw" id="tw"></div></div>

<!-- HEADER -->
<header>
  <div style="display:flex;align-items:flex-end;gap:.6rem">
    <div class="logo">TRADESCOPE</div>
    <div class="logo-badge">PRO Â· INDIA</div>
  </div>
  <div class="hm">
    <div class="pill"><div class="dot dotc" id="md"></div><span id="ml" style="color:var(--t2)">NSE Closed</span></div>
    <div class="pill" style="border-color:rgba(0,212,255,.25)"><div class="dot doto" style="background:var(--accent2);box-shadow:0 0 10px var(--accent2)"></div><span style="color:var(--accent2)">FOREX 24/7</span></div>
    <div class="mkt-stat">
      <div class="mkt-stat-l">Auto Refresh</div>
      <div class="mkt-stat-v cdn" id="cdn" style="color:var(--yellow)">30s</div>
    </div>
  </div>
  <div class="hr">
    <button class="btn" id="rb" onclick="manRefresh()">
      <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M1 4v6h6M23 20v-6h-6"/><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4-4.64 4.36A9 9 0 0 1 3.51 15"/></svg>
      REFRESH
    </button>
    <div class="clk" id="clk">00:00:00 IST</div>
  </div>
</header>

<!-- NAV -->
<div id="nav">
  <div class="nt on" onclick="go('overview')" data-pg="overview">ğŸ“Š OVERVIEW</div>
  <div class="nt" onclick="go('shares')" data-pg="shares">ğŸ“ˆ SHARES</div>
  <div class="nt" onclick="go('charts')" data-pg="charts">ğŸ•¯ LIVE CHARTS</div>
  <div class="nt" onclick="go('forex')" data-pg="forex">ğŸ’± FOREX & GLOBAL</div>
  <div class="nt" onclick="go('news')" data-pg="news">ğŸ“° TODAY'S NEWS</div>
  <div class="nt" onclick="go('heatmap')" data-pg="heatmap">ğŸ”¥ HEATMAP</div>
  <div class="nt" onclick="go('screener')" data-pg="screener">ğŸ” SCREENER</div>
  <div class="nt" onclick="go('fo')" data-pg="fo">âš¡ F&O</div>
</div>

<div id="app">

<!-- OVERVIEW -->
<div class="pg on" id="pg-overview">
  <div class="sb">
    <input class="si" id="mi" placeholder="RELIANCE" maxlength="20" autocomplete="off" onkeydown="if(event.key==='Enter')loadStock()"/>
    <div class="xt"><button class="xb on" id="nb" onclick="setX('NSE')">NSE</button><button class="xb" id="bb" onclick="setX('BSE')">BSE</button></div>
    <button class="gb" onclick="loadStock()">Analyze â†’</button>
  </div>
  <div class="chips" id="qc"></div>
  <div id="og" class="g3">
    <div class="empty full"><div style="font-size:2.6rem;opacity:.1;margin-bottom:.7rem">ğŸ“Š</div><div class="et">Select a stock to begin</div><div class="es">NSE Â· BSE Â· Live data Â· Real-time sentiment Â· Live charts</div></div>
  </div>
</div>

<!-- SHARES -->
<div class="pg" id="pg-shares">
  <div class="st">NSE Top Stocks</div>
  <div id="sg" class="g4"><div class="empty full"><div class="sp3"></div></div></div>
</div>

<!-- CHARTS -->
<div class="pg" id="pg-charts">
  <!-- Search Bar -->
  <div class="sb">
    <input class="si" id="ci" placeholder="Enter symbol... (RELIANCE, TCS, INFY)" maxlength="20" onkeydown="if(event.key==='Enter')loadChart()"/>
    <div class="xt"><button class="xb on" id="cnb" onclick="setCX('NSE')">NSE</button><button class="xb" id="cbb" onclick="setCX('BSE')">BSE</button></div>
    <button class="gb" onclick="loadChart()">Chart â†’</button>
  </div>
  <!-- Quick chips -->
  <div class="chips">
    <div class="chip" onclick="qch('RELIANCE')">RELIANCE</div>
    <div class="chip" onclick="qch('TCS')">TCS</div>
    <div class="chip" onclick="qch('HDFCBANK')">HDFCBANK</div>
    <div class="chip" onclick="qch('INFY')">INFY</div>
    <div class="chip" onclick="qch('WIPRO')">WIPRO</div>
    <div class="chip" onclick="qch('SBIN')">SBIN</div>
    <div class="chip" onclick="qch('ICICIBANK')">ICICIBANK</div>
    <div class="chip" onclick="qch('BAJFINANCE')">BAJFINANCE</div>
  </div>

  <!-- MAIN CHART CARD -->
  <div class="chart-card" id="chart-card">
    <!-- Toolbar Row 1: Symbol + Price + Timeframes -->
    <div class="ct-bar ct-bar1">
      <div style="display:flex;align-items:center;gap:.6rem;min-width:0">
        <span class="ct-sym" id="ct">â€” Load a stock â€”</span>
        <span class="ct-price" id="ct-price"></span>
        <span class="ct-chg" id="ct-chg"></span>
      </div>
      <div class="ct-tf" id="ct-tf">
        <button class="tfb" onclick="setTF('1D')">1D</button>
        <button class="tfb" onclick="setTF('5D')">5D</button>
        <button class="tfb on" onclick="setTF('3M')">3M</button>
        <button class="tfb" onclick="setTF('1M')">1M</button>
        <button class="tfb" onclick="setTF('6M')">6M</button>
        <button class="tfb" onclick="setTF('1Y')">1Y</button>
      </div>
    </div>

    <!-- Toolbar Row 2: Chart type + Tools + Indicators + Zoom -->
    <div class="ct-bar ct-bar2">
      <!-- Chart type -->
      <div class="ct-group">
        <button class="ct-btn on" id="btn-line" onclick="setCT('line')" title="Line Chart">ğŸ“ˆ LINE</button>
        <button class="ct-btn" id="btn-candle" onclick="setCT('candle')" title="Candlestick">ğŸ•¯ CANDLE</button>
        <button class="ct-btn" id="btn-area" onclick="setCT('area')" title="Area Chart">ğŸ” AREA</button>
        <button class="ct-btn" id="btn-bar2" onclick="setCT('bar')" title="Bar Chart">ğŸ“Š BAR</button>
      </div>

      <div class="ct-sep"></div>

      <!-- Zoom controls -->
      <div class="ct-group">
        <button class="ct-btn" onclick="chartZoom('in')" title="Zoom In">ğŸ”+</button>
        <button class="ct-btn" onclick="chartZoom('out')" title="Zoom Out">ğŸ”âˆ’</button>
        <button class="ct-btn" onclick="chartZoom('reset')" title="Reset Zoom">â†º RESET</button>
      </div>

      <div class="ct-sep"></div>

      <!-- Drawing tools -->
      <div class="ct-group">
        <button class="ct-btn" id="btn-cross" onclick="toggleCrosshair()" title="Crosshair">âœ› CROSS</button>
        <button class="ct-btn" id="btn-hline" onclick="toggleDrawTool('hline')" title="Horizontal Line">â€” H.LINE</button>
        <button class="ct-btn" id="btn-tline" onclick="toggleDrawTool('tline')" title="Trend Line">â•± TREND</button>
        <button class="ct-btn" id="btn-fib" onclick="toggleDrawTool('fib')" title="Fibonacci">ğŸŒ€ FIB</button>
        <button class="ct-btn cr" onclick="clearDrawings()" title="Clear All Drawings">âœ• CLEAR</button>
      </div>

      <div class="ct-sep"></div>

      <!-- Indicators -->
      <div class="ct-group" style="position:relative">
        <button class="ct-btn accent" onclick="toggleIndPanel()" title="Indicators">âš¡ INDICATORS</button>
        <div class="ind-panel" id="ind-panel">
          <div class="ind-title">Overlay Indicators</div>
          <label class="ind-row"><input type="checkbox" id="ind-ma20" onchange="applyIndicators()"> <span>MA 20</span> <span class="ind-col" style="background:#f59e0b"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-ma50" onchange="applyIndicators()"> <span>MA 50</span> <span class="ind-col" style="background:#60a5fa"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-ema20" onchange="applyIndicators()"> <span>EMA 20</span> <span class="ind-col" style="background:#a78bfa"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-bb" onchange="applyIndicators()"> <span>Bollinger Bands</span> <span class="ind-col" style="background:#fb923c"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-vwap" onchange="applyIndicators()"> <span>VWAP</span> <span class="ind-col" style="background:#34d399"></span></label>
          <div class="ind-title" style="margin-top:.6rem">Sub-panel Indicators</div>
          <label class="ind-row"><input type="checkbox" id="ind-vol" onchange="applyIndicators()"> <span>Volume</span> <span class="ind-col" style="background:#6b7280"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-rsi" onchange="applyIndicators()"> <span>RSI (14)</span> <span class="ind-col" style="background:#f472b6"></span></label>
          <label class="ind-row"><input type="checkbox" id="ind-macd" onchange="applyIndicators()"> <span>MACD</span> <span class="ind-col" style="background:#38bdf8"></span></label>
        </div>
      </div>

      <div class="ct-sep"></div>

      <!-- Utility -->
      <div class="ct-group" style="margin-left:auto">
        <button class="ct-btn" onclick="exportChart()" title="Screenshot">ğŸ“· SNAP</button>
        <button class="ct-btn" id="btn-fs" onclick="toggleFullscreen()" title="Fullscreen">â›¶ FULL</button>
      </div>
    </div>

    <!-- Crosshair readout -->
    <div class="ct-crosshair" id="ct-crosshair" style="display:none">
      <span id="cr-time"></span> &nbsp;|&nbsp;
      O:<span id="cr-o" class="cg"></span> &nbsp;
      H:<span id="cr-h" class="cg"></span> &nbsp;
      L:<span id="cr-l" class="cr"></span> &nbsp;
      C:<span id="cr-c"></span> &nbsp;
      V:<span id="cr-v" style="color:var(--t3)"></span>
    </div>

    <!-- Main chart canvas -->
    <div class="ct-main" id="ct-main">
      <div class="empty" id="ct-empty"><div class="et">Enter a symbol above and click Chart â†’</div></div>
      <canvas id="main-canvas" style="display:none;width:100%;height:100%"></canvas>
    </div>

    <!-- Sub-panel (RSI / MACD / Volume) -->
    <div class="ct-sub" id="ct-sub" style="display:none">
      <canvas id="sub-canvas" style="width:100%;height:100%"></canvas>
    </div>

    <!-- Bottom zoom hint -->
    <div class="ct-hint">ğŸ–± Scroll to zoom Â· Drag to pan Â· Hold Shift + drag to select range</div>
  </div>

  <!-- Technical indicators summary cards -->
  <div class="g4" style="margin-top:1rem" id="indc"></div>
</div>

<!-- FOREX & GLOBAL -->
<div class="pg" id="pg-forex">
  <!-- Market closed banner -->
  <div id="mkt-closed-banner" style="display:none;background:linear-gradient(135deg,rgba(255,51,102,.1),rgba(255,180,0,.08));border:1px solid rgba(255,51,102,.25);border-radius:10px;padding:.8rem 1.2rem;margin-bottom:1rem;display:flex;align-items:center;gap:.8rem">
    <span style="font-size:1.3rem">ğŸŒ™</span>
    <div>
      <div style="font-family:var(--mono);font-size:.72rem;font-weight:700;color:var(--red)">NSE MARKET CLOSED</div>
      <div style="font-family:var(--mono);font-size:.58rem;color:var(--t3);margin-top:.2rem">Auto-switched to Forex & Global Markets (24/7) Â· NSE opens Monâ€“Fri 9:15 AM IST</div>
    </div>
    <button class="ct-btn" style="margin-left:auto" onclick="go('overview')">Back to Overview</button>
  </div>

  <!-- Forex chart panel -->
  <div class="fx-chart-card" id="fx-chart-card">
    <div class="ct-bar ct-bar1">
      <div style="display:flex;align-items:center;gap:.6rem">
        <span class="ct-sym" id="fx-ct-sym">Select an instrument</span>
        <span class="ct-price" id="fx-ct-price"></span>
        <span class="ct-chg" id="fx-ct-chg"></span>
      </div>
      <div style="display:flex;gap:.2rem;margin-left:auto">
        <button class="tfb on" id="fx-tf-1d" onclick="fxSetTF('1d','5m',this)">1D</button>
        <button class="tfb" id="fx-tf-5d" onclick="fxSetTF('5d','15m',this)">5D</button>
        <button class="tfb" id="fx-tf-1mo" onclick="fxSetTF('1mo','1d',this)">1M</button>
        <button class="tfb" id="fx-tf-3mo" onclick="fxSetTF('3mo','1d',this)">3M</button>
        <button class="tfb" id="fx-tf-1y" onclick="fxSetTF('1y','1d',this)">1Y</button>
        <div class="ct-sep"></div>
        <button class="ct-btn on" id="fx-line" onclick="fxSetType('line')">LINE</button>
        <button class="ct-btn" id="fx-candle" onclick="fxSetType('candle')">CANDLE</button>
        <div class="ct-sep"></div>
        <button class="ct-btn" onclick="fxZoom('in')">ğŸ”+</button>
        <button class="ct-btn" onclick="fxZoom('out')">ğŸ”âˆ’</button>
        <button class="ct-btn" onclick="fxZoom('reset')">â†º</button>
        <button class="ct-btn" onclick="toggleFxFullscreen()">â›¶</button>
      </div>
    </div>
    <div style="height:360px;padding:.4rem;position:relative;box-sizing:border-box;">
      <div id="fx-chart-empty" class="empty" style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center"><div class="et">Click any card below to view chart</div></div>
      <canvas id="fx-canvas" style="display:none;width:100%;height:100%;box-sizing:border-box"></canvas>
    </div>
    <div class="ct-hint">ğŸ–± Scroll to zoom Â· Drag to pan Â· Click any instrument card to load chart</div>
  </div>

  <!-- Forex INR Pairs -->
  <div class="st" style="margin-top:1.2rem">ğŸ’± Forex Majors â€” INR Pairs</div>
  <div class="g4" id="fxm" style="margin-bottom:1.3rem"><div class="empty full"><div class="sp3"></div></div></div>

  <!-- Global Indices -->
  <div class="st">ğŸ“ˆ Global Indices</div>
  <div class="g4" id="fxi" style="margin-bottom:1.3rem"><div class="empty full"><div class="sp3"></div></div></div>

  <!-- Commodities & Crypto -->
  <div class="st">ğŸ… Commodities & Crypto</div>
  <div class="g4" id="fxc"><div class="empty full"><div class="sp3"></div></div></div>
</div>

<!-- NEWS -->
<div class="pg" id="pg-news">
  <div class="st">Today's Market News</div>
  <div style="display:flex;gap:.42rem;flex-wrap:wrap;margin-bottom:1.2rem" id="nc">
    <button class="tfb on" onclick="loadNews('india stock market NSE BSE',this)">India Markets</button>
    <button class="tfb" onclick="loadNews('nifty sensex BSE NSE',this)">NIFTY/SENSEX</button>
    <button class="tfb" onclick="loadNews('USD INR forex india currency',this)">Forex</button>
    <button class="tfb" onclick="loadNews('gold crude oil commodity india price',this)">Commodities</button>
    <button class="tfb" onclick="loadNews('RBI interest rate policy india',this)">RBI/Economy</button>
    <button class="tfb" onclick="loadNews('US stock market wall street',this)">Global</button>
    <button class="tfb" onclick="loadNews('IPO India 2025 stock market',this)">IPO</button>
  </div>
  <div class="g23">
    <div id="nf"><div class="sp3" style="margin:3rem auto"></div></div>
    <div>
      <div class="cl" style="margin-bottom:.55rem">Trending Keywords</div>
      <div id="tt" class="wc"></div>
      <div class="cl" style="margin-top:1.2rem;margin-bottom:.5rem">Sentiment Split</div>
      <div id="ssb"></div>
    </div>
  </div>
</div>

<!-- HEATMAP -->
<div class="pg" id="pg-heatmap">
  <div class="st">NSE Sector Heatmap â€” Live Data</div>
  <div id="hmg" class="hmg"></div>
</div>

<!-- SCREENER -->
<div class="pg" id="pg-screener">
  <div class="st">Stock Screener</div>
  <div class="g4" style="margin-bottom:1rem">
    <div class="card">
      <div class="cl">Filter: Movement</div>
      <select id="gf" style="background:rgba(21,29,46,.6);border:1px solid rgba(26,36,56,.5);color:var(--t1);padding:.4rem;border-radius:6px;width:100%;font-family:var(--mono);font-size:.66rem;margin-top:.38rem;outline:none;">
        <option value="all">All stocks</option><option value="gain">Gainers only</option><option value="loss">Losers only</option>
      </select>
    </div>
    <div class="card full" style="grid-column:span 3">
      <button class="gb" style="width:100%" onclick="runScr()">Run Screener â†’</button>
    </div>
  </div>
  <div id="scr"><div class="empty"><div style="font-size:2rem;opacity:.1;margin-bottom:.55rem">ğŸ”</div><div class="et">Run screener to see results</div></div></div>
</div>

</div>

<!-- F&O PAGE -->
<div class="pg" id="pg-fo">

  <!-- Search bar -->
  <div class="sb">
    <input class="si" id="fo-sym" placeholder="NIFTY, BANKNIFTY, RELIANCE..." maxlength="20" autocomplete="off" onkeydown="if(event.key==='Enter')loadFO()"/>
    <select id="fo-exp" style="background:rgba(21,29,46,.8);border:1px solid rgba(26,36,56,.6);color:var(--t1);padding:.45rem .6rem;border-radius:8px;font-family:var(--mono);font-size:.65rem;outline:none;cursor:pointer">
      <option value="">Loading expiries...</option>
    </select>
    <button class="gb" onclick="loadFO()">Load F&O â†’</button>
  </div>

  <!-- Quick chips -->
  <div class="chips">
    <div class="chip fo-chip" onclick="foLoad('NIFTY')">NIFTY</div>
    <div class="chip fo-chip" onclick="foLoad('BANKNIFTY')">BANKNIFTY</div>
    <div class="chip fo-chip" onclick="foLoad('FINNIFTY')">FINNIFTY</div>
    <div class="chip fo-chip" onclick="foLoad('RELIANCE')">RELIANCE</div>
    <div class="chip fo-chip" onclick="foLoad('TCS')">TCS</div>
    <div class="chip fo-chip" onclick="foLoad('INFY')">INFY</div>
    <div class="chip fo-chip" onclick="foLoad('HDFCBANK')">HDFCBANK</div>
    <div class="chip fo-chip" onclick="foLoad('SBIN')">SBIN</div>
  </div>

  <!-- Summary bar -->
  <div class="fo-summary" id="fo-summary" style="display:none">
    <div class="fo-sum-item"><div class="fo-sum-label">UNDERLYING</div><div class="fo-sum-val" id="fo-underlying">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">SPOT PRICE</div><div class="fo-sum-val cg" id="fo-spot">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">CHANGE</div><div class="fo-sum-val" id="fo-chg">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">PCR (OI)</div><div class="fo-sum-val" id="fo-pcr">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">ATM STRIKE</div><div class="fo-sum-val cy" id="fo-atm">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">MAX CALL OI</div><div class="fo-sum-val cr" id="fo-maxcall">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">MAX PUT OI</div><div class="fo-sum-val cg" id="fo-maxput">â€”</div></div>
    <div class="fo-sum-item"><div class="fo-sum-label">EXPIRY</div><div class="fo-sum-val" id="fo-expiry-lbl">â€”</div></div>
  </div>

  <!-- Tabs: Options Chain | Futures | OI Chart | IV Chart -->
  <div class="fo-tabs" id="fo-tabs" style="display:none">
    <button class="fo-tab on" id="fo-tab-chain" onclick="foSetTab('chain')">ğŸ“‹ Options Chain</button>
    <button class="fo-tab" id="fo-tab-futures" onclick="foSetTab('futures')">ğŸ“¦ Futures</button>
    <button class="fo-tab" id="fo-tab-oi" onclick="foSetTab('oi')">ğŸ“Š OI Analysis</button>
    <button class="fo-tab" id="fo-tab-iv" onclick="foSetTab('iv')">ğŸŒ¡ IV & Greeks</button>
  </div>

  <!-- OPTIONS CHAIN panel -->
  <div class="fo-panel" id="fo-panel-chain">
    <div class="fo-chain-wrap">
      <div class="fo-chain-header">
        <div class="fo-col-grp calls-grp">â† CALLS</div>
        <div class="fo-strike-col">STRIKE</div>
        <div class="fo-col-grp puts-grp">PUTS â†’</div>
      </div>
      <div class="fo-chain-subheader">
        <div style="display:contents" class="calls-hdr">
          <span>OI</span><span>Chg OI</span><span>Vol</span><span>IV%</span><span>LTP</span><span>Î”</span>
        </div>
        <div class="fo-strike-col" style="color:var(--yellow)">STRIKE</div>
        <div style="display:contents" class="puts-hdr">
          <span>Î”</span><span>LTP</span><span>IV%</span><span>Vol</span><span>Chg OI</span><span>OI</span>
        </div>
      </div>
      <div id="fo-chain-body">
        <div class="empty" style="padding:3rem"><div class="et">Select a symbol above to load options chain</div></div>
      </div>
    </div>
  </div>

  <!-- FUTURES panel -->
  <div class="fo-panel" id="fo-panel-futures" style="display:none">
    <div class="st" style="margin-bottom:.8rem">Active Futures Contracts</div>
    <div id="fo-futures-body">
      <div class="empty"><div class="et">Load a symbol to see futures</div></div>
    </div>
  </div>

  <!-- OI ANALYSIS panel -->
  <div class="fo-panel" id="fo-panel-oi" style="display:none">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem">
      <div class="card">
        <div class="cl">Call OI by Strike</div>
        <div style="height:220px;margin-top:.5rem"><canvas id="fo-call-oi-chart"></canvas></div>
      </div>
      <div class="card">
        <div class="cl">Put OI by Strike</div>
        <div style="height:220px;margin-top:.5rem"><canvas id="fo-put-oi-chart"></canvas></div>
      </div>
    </div>
    <div class="card">
      <div class="cl">OI Comparison â€” Calls vs Puts</div>
      <div style="height:240px;margin-top:.5rem"><canvas id="fo-oi-cmp-chart"></canvas></div>
    </div>
  </div>

  <!-- IV & GREEKS panel -->
  <div class="fo-panel" id="fo-panel-iv" style="display:none">
    <div class="card" style="margin-bottom:1rem">
      <div class="cl">Implied Volatility Smile</div>
      <div style="height:240px;margin-top:.5rem"><canvas id="fo-iv-chart"></canvas></div>
    </div>
    <div class="g4" id="fo-greeks-grid">
      <div class="empty"><div class="et">Load a symbol to see Greeks</div></div>
    </div>
  </div>

</div>

<div id="bot">
  <span>ğŸ“¡ Yahoo Finance Â· NSE India Â· Google News RSS Â· Chart.js</span>
  <span id="lu">â€”</span>
  <span>âš  Educational only Â· Not financial advice</span>
</div>

<script src="app_optimized.js"></script>
</body>
</html>
